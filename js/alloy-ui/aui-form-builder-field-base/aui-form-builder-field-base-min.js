YUI.add("aui-form-builder-field-base",function(e,t){var n=e.Lang,r=n.isArray,i=n.isObject,s=e.Array,o="acceptChildren",u="alert",a="allowRemoveRequiredFields",f="asterisk",l="bodyContent",c="boolean",h="boundingBox",p="builder",d="children",v="clearfix",m="component",g="contentBox",y="controlsToolbar",b="deleteFieldsMessage",w="disabled",E=".",S="drop",x="dropZoneNode",T="",N="field",C="fields",k="form",L="form-builder-field",A="hiddenAttributes",O="icon",M="id",_="info",D="label",P="labelNode",t="name",H="no",B="parent",j="plus",F="predefinedValue",I="question",q="readOnly",R="readOnlyAttributes",U="required",z="requiredFlagNode",W="selected",X="showLabel",V="sign",$=" ",J="string",K="templateNode",Q="tip",G="tipFlagNode",Y="trash",Z="type",et="unique",tt="widget",nt="wrench",rt="yes",it="zone",st="_",ot=e.getClassName,ut=ot(u),at=ot(u,_),ft=ot(v),lt=ot(m),ct=ot(k,p,S,it),ht=ot(k,p,N),pt=ot(k,p,N,W),dt=ot(k,p,et),vt=ot(O),mt=ot(O,f),gt=ot(O,j),yt=ot(O,I,V),bt=ot(O,Y),wt=ot(O,nt),Et=ot(tt),St='<div class="'+[ut,at].join($)+'"></div>',xt='<div class="'+[Et,lt,ht].join($)+'"></div>',Tt='<div class="'+ct+'"></div>',Nt='<span class="'+[vt,mt].join($)+'"></span>',Ct='<span class="'+[vt,yt].join($)+'"></span>',kt='<label for="{id}">{label}</label>',Lt=e.Component.create({NAME:L,AUGMENTS:[e.FieldSupport]}),At=e.Component.create({NAME:L,ATTRS:{acceptChildren:{value:!0},builder:{value:null},controlsToolbar:{validator:i,valueFn:function(){var e=this;return{children:e._getToolbarItems(e.get(U),e.get(et)),visible:!1}}},dataType:{value:J},disabled:{value:!1},selected:{value:!1},hiddenAttributes:{validator:r,value:[]},id:{setter:"_setId"},label:{value:T},localizationMap:{value:{}},name:{valueFn:function(){var t=this,n=t.get(Z);return e.FormBuilderField.buildFieldName(n)}},parent:{value:null},predefinedValue:{value:T},readOnly:{setter:e.DataType.Boolean.parse,value:!1},readOnlyAttributes:{validator:r,value:[]},required:{setter:e.DataType.Boolean.parse,value:!1},showLabel:{setter:e.DataType.Boolean.parse,value:!0},strings:{value:{button:"Button",buttonType:"Button Type",deleteFieldsMessage:"Are you sure you want to delete the selected field(s)?",duplicateMessage:"Duplicate",editMessage:"Edit",label:"Label",large:"Large",medium:"Medium",multiple:"Multiple",name:"Name",no:"No",options:"Options",predefinedValue:"Predefined Value",readOnly:"Read Only",required:"Required",reset:"Reset",showLabel:"Show Label",small:"Small",submit:"Submit",tip:"Tip",type:"Type",width:"Width",yes:"Yes"}},tabIndex:{value:0},template:{value:T},tip:{value:T},type:{value:T},unique:{setter:e.DataType.Boolean.parse,value:!1},zIndex:{value:100},dropZoneNode:{valueFn:function(){return e.Node.create(Tt)}},labelNode:{valueFn:function(){var t=this;return e.Node.create(n.sub(kt,{id:t.get(M),label:t.get(D)}))}},requiredFlagNode:{valueFn:function(){return e.Node.create(Nt)}},templateNode:{valueFn:"getNode"},tipFlagNode:{valueFn:function(){return e.Node.create(Ct)}}},UI_ATTRS:[o,w,C,D,t,F,U,W,X,Q,et],EXTENDS:Lt,buildFieldId:function(e){return C+st+N+st+e},buildFieldName:function(t){return t+ ++e.Env._uidx},HTML_PARSER:{dropZoneNode:E+ct,labelNode:D,requiredFlagNode:E+mt,tipFlagNode:E+yt},prototype:{BOUNDING_TEMPLATE:xt,initializer:function(){var t=this;t.controlsToolbar=new e.Toolbar(t.get(y)),t.toolTip=new e.Overlay({align:{node:t.get(G),points:[e.WidgetPositionAlign.LC,e.WidgetPositionAlign.RC]},boundingBox:e.Node.create(St),zIndex:500,visible:!1})},bindUI:function(){var t=this,n=t.get(G);n.on("mouseover",e.bind(t._onMouseOverTipFlagNode,t)),n.on("mouseout",e.bind(t._onMouseOutTipFlagNode,t))},renderUI:function(){var e=this,t=e.get(h),n=e.get(g),r=e.get(P),i=e.get(z),s=e.get(K),o=e.get(G);n.addClass(ft),n.append(r),n.append(i),n.append(o),n.append(s),e.controlsToolbar.render(t),e.toolTip.render(n)},destructor:function(){var e=this,t=e.get(p),n=t._getFieldId(e);e.get(C).each(function(e){e.destroy()}),t.editingField===e&&(delete t.editingField,t.closeEditProperties()),e.controlsToolbar&&e.controlsToolbar.destroy(),e.get(h).dd.destroy(),e.toolTip.destroy(),e.get(B).removeField(e),t.uniqueFieldsMap.remove(n)},createField:function(e){var t=this,n=t.get(p);return e=n.createField(e),e.set(B,t),e},getHTML:function(){return T},getNode:function(){var t=this;return e.Node.create(t.getHTML())},getProperties:function(){var e=this,t=e.getPropertyModel(),r=e.get(A),i=e.get(R),o=[];return s.each(t,function(t){var u=t.attributeName;if(s.indexOf(r,u)>-1)return;var a=e.get(u),f=n.type(a);f===c&&(a=String(a)),t.value=a,s.indexOf(i,u)>-1&&(t.readOnly=!0),o.push(t)}),o},getPropertyModel:function(){var n=this,r=n.getStrings();return[{attributeName:Z,editor:!1,name:r[Z]},{attributeName:D,editor:new e.TextCellEditor,name:r[D]},{attributeName:X,editor:new e.RadioCellEditor({options:{"true":r[rt],"false":r[H]}}),formatter:e.bind(n._booleanFormatter,n),name:r[X]},{attributeName:q,editor:new e.RadioCellEditor({options:{"true":r[rt],"false":r[H]}}),formatter:e.bind(n._booleanFormatter,n),name:r[q]},{attributeName:U,editor:new e.RadioCellEditor({options:{"true":r[rt],"false":r[H]}}),formatter:e.bind(n._booleanFormatter,n),name:r[U]},{attributeName:t,editor:new e.TextCellEditor({validator:{rules:{value:{required:!0}}}}),name:r[t]},{attributeName:F,editor:new e.TextCellEditor,name:r[F]},{attributeName:Q,editor:new e.TextAreaCellEditor,name:r[Q]}]},_booleanFormatter:function(t){var n=this,r=n.getStrings();return e.DataType.Boolean.parse(t.data.value)?r[rt]:r[H]},_getToolbarItems:function(){var t=this,n=t.get(p),r=[{icon:wt,on:{click:e.bind(t._handleEditEvent,t)}}];return t.get(et)||r.push({icon:gt,on:{click:e.bind(t._handleDuplicateEvent,t)}}),(n&&n.get(a)||!t.get(U))&&r.push({icon:bt,on:{click:e.bind(t._handleDeleteEvent,t)}}),[r]},_handleDuplicateEvent:function(e){var t=this;t.get(et)||t.get(p).duplicateField(t),e.stopPropagation()},_handleEditEvent:function(e){var t=this;t.get(p).editField(t),e.stopPropagation()},_handleDeleteEvent:function(e){var t=this,n=t.getStrings();
confirm(n[b])&&t.destroy(),e.stopPropagation()},_onMouseOutTipFlagNode:function(){var e=this;e.toolTipTime=setTimeout(function(){e.toolTip.hide()},300)},_onMouseOverTipFlagNode:function(){var e=this;clearInterval(e.toolTipTime),e.toolTip.show()},_setId:function(t){return e.FormBuilderField.buildFieldId(t)},_uiSetAcceptChildren:function(e){var t=this,n=t.get(h),r=t.get(x),i=n.one(E+ct);e&&!i?n.append(r):!e&&i?i.remove():e&&i&&t.set(x,i)},_uiSetSelected:function(e){var t=this;t.get(h).toggleClass(pt,e)},_uiSetDisabled:function(e){var t=this,n=t.get(K);e?n.setAttribute(w,e):n.removeAttribute(w)},_uiSetFields:function(e){var t=this,n=t.get(p);n.plotFields(e,t.get(x))},_uiSetLabel:function(e){var t=this,n=t.get(P);n.setContent(e)},_uiSetName:function(e){var n=this,r=n.get(K);r.set(t,e)},_uiSetPredefinedValue:function(e){var t=this,n=t.get(K);n.val(e)},_uiSetRequired:function(e){var t=this,n=t.controlsToolbar,r=t.get(z);e?r.show():r.hide(),n.set(d,t._getToolbarItems())},_uiSetShowLabel:function(e){var t=this,n=t.get(P);e?n.show():n.hide()},_uiSetTip:function(e){var t=this,n=t.get(G);e?n.show():n.hide(),t.toolTip.set(l,e)},_uiSetUnique:function(e){var t=this,n=t.get(h),r=t.controlsToolbar;n.toggleClass(dt,e),r.set(d,t._getToolbarItems())}}});e.FormBuilderField=At,e.FormBuilder.types.field=e.FormBuilderField},"2.0.0",{requires:["panel","aui-datatype"],skinnable:!0});
