YUI.add("aui-char-counter",function(e,t){var n=e.Lang,r=n.isNumber,i="char-counter",s="counter",o="input",u="maxLength",a="scrollLeft",f="scrollTop",l=e.Component.create({NAME:i,ATTRS:{counter:{setter:e.one},maxLength:{lazyAdd:!1,setter:function(e){return this._setMaxLength(e)},value:Infinity,validator:r},input:{setter:e.one}},EXTENDS:e.Base,prototype:{handler:null,initializer:function(){var e=this;e.bindUI(),e.checkLength()},bindUI:function(){var t=this,n=t.get(o);t.publish("maxLength"),t.after("maxLengthChange",t.checkLength),n&&(t.handler=n.on(o,e.bind(t._onInputChange,t)))},syncUI:function(){var e=this,t=e.get(s);if(t){var n=e.get(o).val();t.html(e.get(u)-n.length)}},destroy:function(){var e=this;e.handler&&e.handler.detach()},checkLength:function(){var e=this,t=e.get(o),n=e.get(u);if(!t)return!1;var r=t.val(),i=t.get(f),s=t.get(a);r.length>n&&t.val(r.substring(0,n)),r.length==n&&e.fire("maxLength"),t.set(f,i),t.set(a,s),e.syncUI()},_onInputChange:function(e){var t=this;t.checkLength()},_setMaxLength:function(e){var t=this,n=t.get(o);return n&&e<Infinity&&n.set(u,e),e}}});e.CharCounter=l},"2.0.0",{requires:["aui-node","aui-event-input","aui-component"]});
