<!--[*]
[tt=main][/tt]
[mod=feedback]pub_button[/mod]
[mod=sys]shcode[/mod]
[*]-->
<h1>Feedback модуль - "Обратная связь"</h1>
<p>
	Модуль обратной связи позволяет оперативно [не]зарегистрированным пользователям 
	отправлять сообщения администрации сайта.<br />
	Для вызова формы обратной связи необходимо использовать определенные кирпичи модуля или 
	JavaScript метод.
</p>

<h2>Кирпичи</h2>
<h3>pub_button - кнопка</h3>
<p>
	Размещает кнопку "Обратная связь" в указанном месте.
</p>
<p>
	Например: [mod]feedback:pub_button[/mod]
</p>
<h2>JavaScript метод - Brick.mod.feedback.api.show()</h2>
Данный JavaScript метод позволяет вызывать форму обратной связи. <br />
Так же можно указать дополнительные параметры для тонкой настройки формы: <br />

<p>
	<pre class="brush: js">
			function showFeedbackParam(){
				Brick.mod.feedback.api.show({
					'header': 'Сообщение администрации сайта', // название окна
					'title': 'Ваши пожелания', // Заголовок формы
					'phonehide': true // отключить поле ввода 'телефон'
				});
			};

			// вызов обратной связи: Обратная связь (тонкая настройка)
			// <a href="#" onclick="showFeedbackParam(); return false;">Обратная связь (тонкая настройка)</a> 

			// вызов функций
			// <a href="#" onclick="Brick.mod.feedback.api.show(); return false;">Обратная связь (форма по умолчанию)</a> 
	</pre>
	
	
	Демонстрация вызова формы: <br />
	<a href="#" onclick="showFeedbackParam(); return false;">Обратная связь (тонкая настройка)</a><br />
	<a href="#" onclick="Brick.mod.feedback.api.show(); return false;">Обратная связь (форма по умолчанию)</a> 
<p>
<script>
	function showFeedbackParam(){
		Brick.mod.feedback.api.show({
			'header': 'Сообщение администрации сайта', // название окна
			'title': 'Ваши пожелания', // Заголовок формы
			'phonehide': true // отключить поле ввода 'телефон'
		});
	};
</script>

<h3>Панель на странице</h3>
<p>
	Так же существует способ размещения формы обратной связи непосредственно на странице:
</p>
<p>Определяем контейнер размещения формы:</p>
<pre class="brush: html">
	<div id="my_feedback">Инициализация модуль обратной связи</div>
</pre>
<p>JavaScript метод инициализации формы:</p>
<pre class="brush: js">
		Brick.Loader.add({mod:[{name:'feedback',files:['form.js']}],
	    onSuccess: function() {
	   		Brick.mod.feedback.api.insert('my_feedback');
		  }
		})
</pre>

<h3>Пример:</h3>
<div id="my_feedback1">Инициализация модуль обратной связи</div>
<script language='JavaScript' type='text/javascript' charset='utf-8'>
	Brick.Loader.add({mod:[{name:'feedback',files:['form.js']}],
    onSuccess: function() {
    	Brick.mod.feedback.api.insert('my_feedback1',{
				// используем callback для предварительной валидации формы
      	callback: function(form){
      		var fio = form.el('fio');
      		if (fio.value.length < 2){
        		alert('Поле "Контактное лицо" является обязательным');
        		fio.focus();
        		return false;
      		} 
      		return true;
      	}
      });
	  }
	})
</script> 

<h3>Дополнительные возможности</h3>
<p>Если необходимо сопоставить сообщение от пользователя с конкретным модулем и его 
дополнительными параметрами, то необходимо передать эти параметры в форме</p>
<p>Например:</p>
<pre class="brush: js">
		Brick.Loader.add({mod:[{name:'feedback',files:['form.js']}],
	    onSuccess: function() {
	    	Brick.mod.feedback.api.insert('my_feedback_ext', {
	      	'owner': 'feedback', // сообщение отправлено со страницы модуля Feedback
	      	'ownerparam': {  // здесь указываем все необходимые дополнительный параметры которые будет прикреплены к этому сообщению
	      		'page': 'Страница помощи' 
	      	}
	      });
		  }
		})
</pre>
<p><strong>Примечание:</strong> дополнительные параметры которые необходимо передать в форме обратной связи должны быть 
описаны в соответствии с требованиями того модуля, для которых эти параметры формируются.</p>

<h2>Ссылки</h2>
<p>
	За более подробной информацией обращайтесь на <a href="http://project.abricos.org/feedback">страничку модуля</a>
</p>
<p>
	<a href="http://project.abricos.org/feedback/newticket">Здесь</a> вы можете высказать пожелание в работе модуля или сообщить об ошибке.
</p>


[mod]sys:shcode[/mod]